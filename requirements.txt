# Core Database & ORM
# Pinned to exact versions for reproducible builds (2025-12-10)
sqlalchemy==2.0.41
alembic>=1.12.0  # Not installed in current env, keep flexible
psycopg2-binary==2.9.11  # PostgreSQL adapter

# Configuration
python-dotenv==1.0.0
pyyaml>=6.0.1  # Keep flexible for compatibility

# Data APIs & Financial Data
schwab-py==1.5.1
yfinance==0.2.54
pandas==2.3.2
numpy==2.2.6
scipy==1.15.3

# CLI Framework
click==8.1.3

# Utilities
python-dateutil==2.9.0.post0

# Data Validation
pydantic==2.10.6
pydantic-settings==2.9.1

# Optimization
deap==1.4.3  # Genetic algorithms
tqdm==4.67.1  # Progress bars

# Visualization
matplotlib==3.9.2
seaborn==0.13.2
plotly==6.5.0  # Interactive plots for backtest results

# API Framework
# FastAPI 0.120.1+ required for Starlette >=0.49.1 (CVE-2025-62727 fix)
fastapi>=0.120.1
uvicorn[standard]==0.34.3
slowapi>=0.1.9  # Rate limiting for FastAPI (install if needed)

# Authentication
python-jose[cryptography]==3.5.0
passlib[bcrypt]==1.7.4
bcrypt==4.3.0  # Direct bcrypt for passlib compatibility

# Two-Factor Authentication (2FA/TOTP)
pyotp==2.9.0
qrcode[pil]==7.4.2

# Passkey/WebAuthn Authentication
webauthn==2.2.0  # FIDO2/WebAuthn for passkey support

# Form data
# python-multipart: CVE-2026-24486 fix - path traversal in file uploads
python-multipart>=0.0.22

# Scheduling
apscheduler==3.11.1

# Timezone handling
pytz==2024.1

# Market Calendar
pandas-market-calendars==5.1.1

# Security: Pin transitive dependencies to fix vulnerabilities (2025-12-11)
# fonttools: CVE fix (required by matplotlib)
fonttools>=4.60.2
# urllib3: CVE fix (required by requests, schwab-py)
urllib3>=2.6.0
# werkzeug: CVE fix (required by Flask)
werkzeug>=3.1.4
# starlette: CVE-2025-62727 fix - Range header DoS (required by FastAPI)
starlette>=0.49.1
